extends layout

block content
  .w3-card-4
  header.w3-container.w3-pink
    h1 ToDo App 
  .w3-container
    .w3-row
      .w3-col.m12.l12
        form.w3-container(method="POST" action="/")
          fieldset
            legend Criar task
            label Responsável
            input.w3-input.w3-round(type="text" name="quem")
            label Data limite
            input.w3-input.w3-round(type="date" name="ateQuando")
            label Descrição
            input.w3-input.w3-round(type="text" name="oQue")
          button.w3-btn.w3-purple.w3-mb-2(type="submit") Criar
    .w3-row
      .w3-col.m6.l6
        h2 Tarefas por realizar 
        ul.w3-ul
          each toDoItem in allToDos       
            if !toDoItem.feito 
              li 
                .w3-row 
                  h3 Responsável: #{toDoItem.quem}
                  h4 Data limite: #{toDoItem.ateQuando}
                  h5 Descrição: #{toDoItem.oQue}
                  .w3-row 
                    .w3-col.m6.l6
                      form(method="POST" action="/update")
                        input.w3-check(type="checkbox" name="feito")
                        input.w3-check(type="hidden" name="id" value=toDoItem.id)
                        input.w3-input.w3-round(type="hidden" name="quem" value=toDoItem.quem)
                        input.w3-input.w3-round(type="hidden" name="ateQuando" value=toDoItem.ateQuando)
                        input.w3-input.w3-round(type="hidden" name="oQue" value=toDoItem.oQue)
                        button.w3-btn.w3-purple.w3-mb-2(type="submit") Atualizar
                    .w3-col.m6.l6
                       form(method="POST" action="/delete") 
                          input.w3-check(type="hidden" name="id" value=toDoItem.id)
                          button.w3-btn.w3-red.w3-mb-2(type="submit") Remover                                               
      .w3-col.m6.l6
        h2 Tarefas realizadas 
          ul.w3-ul
            each toDoItem in allToDos       
              if toDoItem.feito 
                li 
                  .w3-row 
                    h3 Responsável: #{toDoItem.quem}
                    h4 Data limite: #{toDoItem.ateQuando}
                    h5 Descrição: #{toDoItem.oQue}
                    .w3-row 
                      .w3-col.m6.l6
                        form(method="POST" action="/update")
                          input.w3-check(type="checkbox" name="feito" checked)
                          input.w3-check(type="hidden" name="id" value=toDoItem.id)
                          input.w3-input.w3-round(type="hidden" name="quem" value=toDoItem.quem)
                          input.w3-input.w3-round(type="hidden" name="ateQuando" value=toDoItem.ateQuando)
                          input.w3-input.w3-round(type="hidden" name="oQue" value=toDoItem.oQue)
                          button.w3-btn.w3-purple.w3-mb-2(type="submit") Atualizar
                      .w3-col.m6.l6
                        form(method="POST" action="/delete") 
                            input.w3-check(type="hidden" name="id" value=toDoItem.id)
                            button.w3-btn.w3-red.w3-mb-2(type="submit") Remover
    
  footer.w3-container.w3-pink
    h5 Generated by RPCW2023 in #{d}